## АРХАРОВ ДМИТРИЙ ПАВЛОВИЧ БПИ198 ЗАДАНИЕ 3

### 1. Почему любое отношение в реляционной схеме имеет по крайней мере один ключ?
Любое отношение в реляционной схеме имеет хотя бы один ключ, поскольку нам необходимо как-то идентифицировать их и проводить по ним поиск. Таким образом отношения представляет из себя связь между двумя сущностями и требует хотя бы один уникальный ключ, чтобы мы могли определять какое отношение перед нами и итерироваться по ним.

### E/R диаграмы из прошлого задания переведённые в реляционные схемы: *(вместо подчёркивания уникального ключа он будет выделен жирным текстом, так как не нашёл в md подчёркиваний)*

### 1 задание из 2-ой домашки:

**Сущности:**
1. Книга: {**ISBN**, название, автор, кол-во_страниц, название_издателя, год_выпуска}
2. Экземпляр книги: {**Номер_экземпляра, ISBN**, позиция_на_полке}
3. Категория: {**Название_категории**, название_родительской_категории}
4. Издатель: {**Название_издателя**, адрес}
5. Читатель: {**Номер_читателя**, имя, фамилия, адрес, день_рождения}

**Отношения:**

*формат:  
Название; Между какими сущностями; Тип связи; {Реляционное описание}*

1. Аренда копии книги; Читатель - Копия книги; N:M; {**номер_читателя, номер_экземпляра, ISBN**, дата возврата}
2. Принадлежность книги категории; Книга - Категория; N:M {**ISBN**, название категории}


### 2 задание, 1 подпункт
**Сущности:**
1. Квартира: {**IDflat, IDhouse, название_улицы, название_города, название_страны**}
2. Дом: {**IDhouse, название_улицы, название_города, название_cтраны**}
3. Улица: {**название_улицы, название_города, название_страны**}
4. Город: {**название_города, название_страны**}
5. Страна: {**название_страны**}

*Здесь сделал merge всех отношений внутрь сущностей, поскольку они представляли собой включение одного в другое и выражаются в N:1 связи*

### 2 задание, 2 подпункт
**Сущности:**
1. Арбитр: {**Имя_арбитра**}
2. Команда: {**Название_команды**}

**Отношения:**
1. Игра; Команда - Команда - Арбитр; N:M:H; {IDarbitr, **Название_команды_1, Название_команды_2, Имя арбитра**} *тут связь N:M:H так как мы храним сразу много игр (хотя я и не полностью разделяю эту концепцию, но на одном из сминаров вы говорили об этом)* 

### 2 задание, 3 подпункт
**Сущности:**
1. Мужчина: (**IDman**, IDfather, IDmother)
2. Женщина: (**IDwoman**, IDfather, IDmother)

*Здесь также сделал merge всех отношений внутрь сущностей, поскольку они представляли собой включение одного в другое и выражаются в N:1 связи, я отразил их через добавление ещё двух атрибутов сущностям - через которые можно переходить к отцу и матери соответственно*

### 3 задание *Я не менял его, так как вы сказали оно не обязательное, поэтому здесь могут быть ошибки*
**Сущности:**
1. Сущность: (**IDentity**, название)
2. Отношение: (**IDrelat**, название)
3. Аттрибут сущности: (**IDatrEntity**, название, являетсяЧастьюКлюча)
4. Аттрибут отношения: (**IDatrRelat**, название)

**Отношения:**
1. Иметь аттрибут (Сущность); Сущность - Аттрибут сущности; 1:N; (IDentity, **IDatrEntity**) *можно смёрджить*
2. Иметь аттрибут (Отношение); Отношение - Аттрибут отношения; 1:N; (IDrelat, **IDatrRrelat**) *можно смёрджить*
3. Участвовать; Сущность - Отношение; N:M; (**IDentity**, **IDrelat**, функциональность, роль, минимум, максимум)


## 3 задание 3-ей домашней работы, 1 подпункт:
**Сущности:**
1. Station (**Name, CityName, CityRegion**, #Tracks)
2. City (**Region**, **Name**)
3. Train (**TrainNr**, Length, StartStationName, EndStationName)

**Отношения:**
1. Connected; Train - Station - Station; N:1:1; (**TrainNr, StartStationName, EndStationName,** Departure, Arrival) *Добавил по сравнению с тем что было показано на семинаре - EndStationName в ключ, потому что тогда ключ становится уникальным, а если убрать то поезда которые со станции A направляются на станцию B и станцию C будет сложнее сортировать и идентифицировать*


## 3 задание, 2 подпункт:
**Сущности:**
1. Station (**StatNr**, Name)
2. Room (**RoomNr, StatNr**, #Beds) *смёрджили Has отношение*
3. Patient (**PatientNr, RoomNr, StatNr**, Name, Disease, from, to) *Смёрджили Admission*
4. Doctor (**PersNr, StatNr**, #Name, Rank, Area)
5. Caregiver (**PersNr, StatNr**, #Name, Qualification)
6. StationPersonell (**PersNr, StatNr**, #Name) *Смёрджили Works_for*

**Отношения:**
1. Treats; Patient - Doctor; N:1; (**PatientNr**, PersNr, DocName) *можно смёрджить, но на семинаре вы вроде показали чтобы оставили*
